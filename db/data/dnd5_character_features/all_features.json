[
  {
    "slug": "fighting_style_defense",
    "title": { "en": "", "ru": "" },
    "description": { "en": "", "ru": "" },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "update_result",
    "visible": "result[:selected_features].keys.include?('fighting_style_defense')",
    "eval_variables": {
      "result": "result[:combat][:armor_class] += 1 if result.dig(:defense_gear, :armor).present?"
    }
  },
  {
    "slug": "fighting_style_archery",
    "title": { "en": "", "ru": "" },
    "description": { "en": "", "ru": "" },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "update_result",
    "visible": "result[:selected_features].keys.include?('fighting_style_archery')",
    "eval_variables": {
      "result": "result[:attacks].each { |attack| next if attack[:type] != 'range'; attack[:attack_bonus] += 2 }"
    }
  },
  {
    "slug": "fighting_style_dueling",
    "title": { "en": "", "ru": "" },
    "description": { "en": "", "ru": "" },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "update_result",
    "visible": "result[:selected_features].keys.include?('fighting_style_dueling')",
    "eval_variables": {
      "result": "result[:attacks].each { |attack| next if attack[:type] != 'melee'; next if attack[:hands] != '1'; next if attack[:tooltips].include?('dual'); attack[:damage_bonus] += 2 }"
    }
  },
  {
    "slug": "fighting_style_two_weapon_fighting",
    "title": { "en": "", "ru": "" },
    "description": { "en": "", "ru": "" },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "update_result",
    "visible": "result[:selected_features].keys.include?('fighting_style_two_weapon_fighting')",
    "eval_variables": {
      "result": "result[:attacks].each { |attack| next if attack[:action_type] != 'bonus action'; next if attack[:tooltips].exclude?('dual'); attack[:damage_bonus] += result[:attacks].find { |i| i[:hands] == 1 && i[:action_type] == 'action' && i[:slug] == attack[:slug] }[:damage_bonus] }"
    }
  },
  {
    "slug": "fighting_style_great_weapon_fighting",
    "title": { "en": "Great Weapon Fighting", "ru": "Сражение большим оружием" },
    "description": {
      "en": "When you roll a 1 or 2 on a damage die for an attack you make with a melee weapon that you are wielding with two hands, you can reroll the die and must use the new roll, even if the new roll is a 1 or a 2. The weapon must have the two-handed or versatile property for you to gain this benefit.",
      "ru": "Если у вас выпало «1» или «2» на кости урона оружия при атаке, которую вы совершали рукопашным оружием, удерживая его двумя руками, то вы можете перебросить эту кость, и должны использовать новый результат, даже если снова выпало «1» или «2». Чтобы воспользоваться этим преимуществом, ваше оружие должно иметь свойство «двуручное» или «универсальное»."
    },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "static",
    "options_type": null,
    "options": null,
    "visible": "result[:selected_features].keys.include?('fighting_style_great_weapon_fighting')",
    "eval_variables": {}
  },
  {
    "slug": "fighting_style_protection",
    "title": { "en": "Protection", "ru": "Защита" },
    "description": {
      "en": "When a creature you can see attacks a target other than you that is within 5 feet of you, you can use your reaction to impose disadvantage on the attack roll. You must be wielding a shield.",
      "ru": "Если существо, которое вы видите, атакует не вас, а другое существо, находящееся в пределах 5 футов от вас, вы можете реакцией создать помеху его броску атаки. Для этого вы должны использовать щит."
    },
    "origin": "class",
    "origin_value": "all",
    "level": 1,
    "kind": "static",
    "options_type": null,
    "options": null,
    "visible": "result[:selected_features].keys.include?('fighting_style_protection')",
    "eval_variables": {}
  }
]
