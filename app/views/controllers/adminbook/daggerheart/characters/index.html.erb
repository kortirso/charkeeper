<table class="table w-full text-sm">
  <thead>
    <tr>
      <td></td>
      <td>ID</td>
      <td>Name</td>
      <td>Level</td>
      <td>Heritage</td>
      <td>Community</td>
      <td>Classes</td>
      <td>Subclasses</td>
      <td>User ID</td>
      <td></td>
    </tr>
  </thead>
  <tbody>
    <% @characters.each_with_index do |character, index| %>
      <tr>
        <td class="pr-2"><%= (@pagy.page - 1) * 25 + index + 1 %></td>
        <td class="pr-2"><%= character.id %></td>
        <td class="pr-2"><%= character.name %></td>
        <td class="pr-2"><%= character.data.level %></td>
        <td class="pr-2">
          <% if character.data.heritage %>
            <span><%= character.data.heritage %></span>
          <% else %>
            <span class="font-medium!"><%= character.data.heritage_name %></span>
          <% end %>
        </td>
        <td class="pr-2"><%= character.data.community %></td>
        <td class="pr-2">
          <% character.data.classes.each do |key, value| %>
            <p class="text-sm"><%= key %> - <%= value %></p>
          <% end %>
        </td>
        <td class="pr-2">
          <% character.data.subclasses.select { |key, value| value }.each do |key, value| %>
            <p class="text-sm"><%= key %> - <%= value %></p>
          <% end %>
        </td>
        <td class="pr-2"><%= character.user_id %></td>
        <td><%= character.created_at.strftime('%d-%m-%Y') %></td>
      </tr>
    <% end %>
  </tbody>
</table>
<% if @pagy.pages > 1 %>
  <div class="mt-6"><%== pagy_nav(@pagy) %></div>
<% end %>
